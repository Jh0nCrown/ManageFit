@{
    string currentAction = ViewContext.RouteData.Values["action"].ToString();
    string currentController = ViewContext.RouteData.Values["controller"].ToString();

    bool isInNavbarPage =
        (currentController == "Cliente" && (currentAction.StartsWith("TransferirSedeCliente") || 
        currentAction == "Registrar" || currentAction.StartsWith("AsignarEntrenador") ||
         currentAction == "BuscarCliente" || currentAction == "Listar" || currentAction.StartsWith("InformacionCliente") 
         || currentAction.StartsWith("BuscarActualizarMembresia") || currentAction.StartsWith("TransferirSedeCliente"))) ||
        (currentController == "Entrenador" && (currentAction == "RegistrarEntrenador" || currentAction == "Listar" || 
        currentAction == "InformacionEntrenador" || currentAction == "InformacionEntrenadorEspecifico" ||
        currentAction == "BuscarEntrenador" || currentAction.StartsWith("BuscarActualizarSalario") || currentAction.StartsWith("ActualizarSalario"))
        || (currentController == "Admin" && (currentAction.StartsWith("OtrasFunc"))));

    bool isInAsignarEntrenador = currentController == "Cliente" && (currentAction.StartsWith("AsignarEntrenador"));

    bool isInInfoClienteEspecifico = currentController == "Cliente" && currentAction.StartsWith("BuscarCliente");

    bool isInInfoEntrenadorEspecifico = currentController == "Entrenador" && currentAction.StartsWith("BuscarEntrenador");

    bool isInGenericGoBackPage = currentController == "Entrenador" && (currentAction.StartsWith("BuscarActualizarSalario") || currentAction.StartsWith("ActualizarSalario"))
    || currentController == "Cliente" && (currentAction.StartsWith("TransferirSedeCliente"));

}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/css/dashboardAdmin.css">
</head>

<div id="navbar">
    <img class="admin-img" src="/img/administrador.png" alt="Logo">
    <ul>
        <li>
            <a href="@Url.Action("Registrar", "Cliente")"
               class="nav-btn @(currentAction == "Registrar" && currentController == "Cliente" ? "active" : "")">
                Registrar cliente
            </a>
        </li>
        <li>
            <a href="@Url.Action("Listar", "Cliente")"
               class="nav-btn @(currentAction == "Listar" && currentController == "Cliente" ? "active" : "")" ">
                Listar clientes
            </a>
        </li>
        <li>
            <a href="@Url.Action("InformacionCliente", "Cliente")" class="nav-btn @(currentAction == "InformacionCliente" && currentController == "Cliente" ? "active" : "")" ">
                Información cliente
            </a>
        </li>
        <li>
            <a href="@Url.Action("RegistrarEntrenador", "Entrenador")" 
            class="nav-btn @(currentAction == "RegistrarEntrenador" && currentController == "Entrenador" ? "active" : "")">
                Registrar entrenador
            </a>
        </li>

        <li>
            <a href="@Url.Action("Listar", "Entrenador")"
               class="nav-btn @(currentAction == "Listar" && currentController == "Entrenador" ? "active" : "")">
                Listar Entrenadores
            </a>
        </li>


        <li>
            <a href="@Url.Action("InformacionEntrenador", "Entrenador")"
               class="nav-btn @(currentAction == "InformacionEntrenador" && currentController == "Entrenador" ? "active" : "")">
                Información entrenador
            </a>
        </li>

        <li>
            <a href="@Url.Action("BuscarActualizarMembresia", "Cliente")"
               class="nav-btn @(currentAction == "BuscarActualizarMembresia" && currentController == "Cliente" ? "active" : "")">
                Actualizar Membresia
            </a>
        </li>

        <li>
            <a href="@Url.Action("OtrasFunc", "Admin")"
               class="nav-btn @(currentAction == "OtrasFunc" && currentController == "Admin" ? "active" : "")">
                Otras Opciones
            </a>
        </li>
    </ul>


    <div class="actions-img">

        <a href="@Url.Action("Logout", "Cuenta")">
            <img class="logout-img" src="/img/logout.png" alt="salir">
        </a>

        @* Muestra la imagen "home" solo si se está dentro de alguna página del navbar *@
        @if (isInNavbarPage)
        {
            <a href="@Url.Action("Home", "Cuenta")">
                <img class="home-img visible" src="/img/home.png" alt="home">
            </a>
           
        }

        @if (isInAsignarEntrenador)
        {
            <a href=" @Url.Action("PaginaAnterior", "Cuenta")">
                <img class="regresarFlecha-img" src="/img/regresarFlecha.png" alt="regresar">
            </a>
        }

        @if (isInInfoClienteEspecifico)
        {
            <a href=" @Url.Action("PaginaAnteriorInfoCliente", "Cuenta")">
                <img class="regresarFlecha-img" src="/img/regresarFlecha.png" alt="regresar">
            </a>
        }

        @if (isInInfoEntrenadorEspecifico)
        {
            <a href=" @Url.Action("PaginaAnteriorInfoEntrenador", "Cuenta")">
                <img class="regresarFlecha-img" src="/img/regresarFlecha.png" alt="regresar">
            </a>
        }


        @if (isInGenericGoBackPage)
        {
            <a href="javascript:void(0);" onclick="window.history.back()">
                <img class="regresarFlecha-img" src="/img/regresarFlecha.png" alt="regresar">
            </a>
        }

    </div>
        
</div>

<style>
    #navbar ul li a.nav-btn.active {
        background-color: #EE1C25;
        color: white;
        font-weight: 600;
    }
</style>
